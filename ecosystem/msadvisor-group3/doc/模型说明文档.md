# 代码逻辑知识库：视图解析业务迁移优化

# 调优方向一：软硬件协同调优

可参考运行环境调优知识库的若干个调优方向，详情可见:https://gitee.com/Be-Monster/msadvisor/tree/yyh1/doc下的文档

# 调优方向二：DVPP亲和性优化
1. ../../knowledgeBase中的loadData.py文件是用于生成分析问题的ctrlCpuAndMemoryData.txt文件，生成的文件应该放在../../data路径下
2. 该脚本的调用方式为python3 loadData.py - -application =../../model/src/running_env_tuning.py --application为model.py所在文件路径，调用该脚本后在该路径下生成用于分析的文件。
3. 在后续知识库运行调优时会读取生成的文件给予反馈意见。


# 调优方向三：应用开发高性能接口

1. ../../data/profiling路径下应存放着用户通过profiling工具采集的profiling数据，../../data应存放用户的project工程文件，应包含cfg模型转换文件
2. 知识库运行时如果正确地识别到用户的数据则会进行分析并给出调优意见，否则会提示在用户给予的文件路径下profiling文件不存在，此时用户需要根据提示正确给出profling文件路径，若文件路径下有多个profling文件，则会默认选取第一个profiling文件进行分析。
3. 用户可根据调优得到的反馈意见进行相应的迁移优化。
4. project目录中需要包含用户项目的所有文件，包括aipp色域转换配置文件，同时，需要将om离线模型转换为json文件，需要与om离线模型同路径、同名。
示例如下：
```
atc --mode=1 --om=$HOME/module/out/caffe_resnet50.om  --json=$HOME/module/out/caffe_resnet50.json
```